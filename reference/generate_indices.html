<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculate annual indices of relative abundance by year for different regions.
These indices can then be used to plot population trajectories for the
species, and to estimate trends."><title>Regional annual indices of abundance — generate_indices • bbsBayes</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Regional annual indices of abundance — generate_indices"><meta property="og:description" content="Calculate annual indices of relative abundance by year for different regions.
These indices can then be used to plot population trajectories for the
species, and to estimate trends."><meta property="og:image" content="http://steffilazerte.ca/bbsBayes/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">bbsBayes</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/bbsBayes.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/advanced.html">Advanced Example</a>
    <a class="dropdown-item" href="../articles/custom_stratification.html">Custom Stratifications</a>
    <a class="dropdown-item" href="../articles/models_first_diff_nonhier.html">Models: First Difference Non-hierarchical</a>
    <a class="dropdown-item" href="../articles/workflow.html">Workflow</a>
    <a class="dropdown-item" href="../articles/convergence.html">Assessing Model Convergence</a>
    <a class="dropdown-item" href="../articles/stratification.html">Stratification</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/BrandonEdwards/bbsBayes/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Regional annual indices of abundance</h1>
      <small class="dont-index">Source: <a href="https://github.com/BrandonEdwards/bbsBayes/blob/HEAD/R/generate-indices.R" class="external-link"><code>R/generate-indices.R</code></a></small>
      <div class="d-none name"><code>generate_indices.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate annual indices of relative abundance by year for different regions.
These indices can then be used to plot population trajectories for the
species, and to estimate trends.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">generate_indices</span><span class="op">(</span></span>
<span>  model_output <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="fl">0.75</span>, <span class="fl">0.95</span>, <span class="fl">0.975</span><span class="op">)</span>,</span>
<span>  regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stratum"</span>, <span class="st">"continent"</span><span class="op">)</span>,</span>
<span>  regions_index <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alternate_n <span class="op">=</span> <span class="st">"n"</span>,</span>
<span>  start_year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_exclude <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max_backcast <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">jags_mod</span>,</span>
<span>  <span class="va">jags_data</span>,</span>
<span>  <span class="va">alt_region_names</span>,</span>
<span>  <span class="va">startyear</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>model_output</dt>
<dd><p>List. Output of <code><a href="run_model.html">run_model()</a></code>.</p></dd>


<dt>quantiles</dt>
<dd><p>vector of quantiles to be sampled from the posterior
distribution Defaults to c(0.025,0.05,0.25,0.5,0.75,0.95,0.975)</p></dd>


<dt>regions</dt>
<dd><p>vector selecting regional compilation(s) to calculate. Default
is "continent" and "stratum". Options also include "country", "prov_state",
"bcr", and "bcr_by_country" for the stratifications that include areas that
align with those regions.</p></dd>


<dt>regions_index</dt>
<dd><p>Data frame. Index of how strata line up with regions.</p></dd>


<dt>alternate_n</dt>
<dd><p>text string indicating the name of the alternative annual
index parameter in a model, Default is "n", alternatives are "n2" which
involves a different way of scaling the annual indices, "nsmooth" for the
gam and gamye models which show only the smooth component of the
trajectory, and "nslope" for the slope models which track only the linear
slope component of the model</p></dd>


<dt>start_year</dt>
<dd><p>Optional first year for which to calculate the annual
indices if a trajectory for only the more recent portion of the time series
is desired. This is probably most relevant if max_backcast is set and so
trajectories for different time-periods could include a different subset of
strata (i.e., strata removed)</p></dd>


<dt>drop_exclude</dt>
<dd><p>logical indicating if the strata that exceed the
max_backcast threshold should be excluded from the calculations, Default is
FALSE (regions are flagged and listed but not dropped)</p></dd>


<dt>max_backcast</dt>
<dd><p>an optional integer indicating the maximum number of
years to backcast the stratum-level estimates before the first year in
which the species was observed on any route in that stratum. 5 is used in
the CWS national estimates. If the observed data in a given stratum do not
include at least one non-zero observation of the species between the first
year of the BBS and start_year+max_backcast, the stratum is flagged within
the relevant regional summary. Default value, NULL ignores any backcasting
limit (i.e., generates annual indices for the entire time series,
regardless of when the species was first observed)</p></dd>


<dt>quiet</dt>
<dd><p>Logical. Suppress progress messages? Default <code>FALSE</code></p></dd>


<dt>jags_mod</dt>
<dd><p>Defunct. Use <code>model_output</code> instead</p></dd>


<dt>jags_data</dt>
<dd><p>Defunct.</p></dd>


<dt>alt_region_names</dt>
<dd><p>Defunct. Use <code>regions_index</code> instead</p></dd>


<dt>startyear</dt>
<dd><p>Deprecated. Use <code>start_year</code> instead</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>List of 6 objects</p>
<dl><dt>data_summary</dt>
<dd><p>dataframe with the following columns</p></dd>

<dt>Year</dt>
<dd><p>Year of particular index</p></dd>

<dt>Region</dt>
<dd><p>Region name</p></dd>

<dt>Region_alt</dt>
<dd><p>Long name for region</p></dd>

<dt>Region_type</dt>
<dd><p>Type of region including continental, national,Province_State,BCR, bcr_by_country, or stratum</p></dd>

<dt>Strata_included</dt>
<dd><p>Strata included in the annual index calculations</p></dd>

<dt>Strata_excluded</dt>
<dd><p>Strata potentially excluded from the annual index calculations because they have no observations of the species in the first part of the time series, see arguments max_backcast and start_year</p></dd>

<dt>Index</dt>
<dd><p>Strata-weighted count index</p></dd>

<dt>additional columns for each of the values in quantiles</dt>
<dd><p>quantiles of the posterior distribution</p></dd>

<dt>obs_mean</dt>
<dd><p>Mean of the observed annual counts of birds across all routes and all years. An alternative estimate of the average relative abundance of the species in the region and year. Differences between this and the annual indices are a function of the model. For composite regions (i.e., anything other than stratum-level estimates) this average count is calculated as an area-weighted average across all strata included</p></dd>

<dt>nrts</dt>
<dd><p>Number of BBS routes that contributed data for this species, region, and year</p></dd>

<dt>nrts_total</dt>
<dd><p>Number of BBS routes that contributed data for this species and region for all years in the selected time-series, i.e., all years since <code>start_year</code></p></dd>

<dt>nnzero</dt>
<dd><p>Number of BBS routes on which this species was observed (i.e., count is &gt; 0) in this region and year</p></dd>

<dt>backcast_flag</dt>
<dd><p>approximate annual average proportion of the covered species range that is free of extrapolated population trajectories. e.g., 1.0 = data cover full time-series, 0.75 = data cover 75 percent of time-series. Only calculated if max_backcast != NULL</p></dd>


<dt>samples</dt>
<dd><p>array of all posterior draws</p></dd>

<dt>area-weights</dt>
<dd><p>data frame of the strata names and area weights used to calculate the continental estimates</p></dd>

<dt>y_min</dt>
<dd><p>first year used in the summary, scale 1:length of time-series</p></dd>

<dt>y_max</dt>
<dd><p>last year used in the summary, scale 1:length of time-series</p></dd>

<dt>start_year</dt>
<dd><p>first year used in the summary, scale 1966:2018</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Toy example with Pacific Wren sample data</span></span></span>
<span class="r-in"><span><span class="co"># First, stratify the sample data</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="stratify.html">stratify</a></span><span class="op">(</span>by <span class="op">=</span> <span class="st">"bbs_cws"</span>, sample_data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using 'bbs_cws' (standard) stratification</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using sample BBS data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using species Pacific Wren (sample data)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Stratifying data...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Combining BCR 7 and NS and PEI...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   Renaming routes...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prepare the stratified data for use in modelling</span></span></span>
<span class="r-in"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="prepare_data.html">prepare_data</a></span><span class="op">(</span><span class="va">s</span>,</span></span>
<span class="r-in"><span>                  min_year <span class="op">=</span> <span class="fl">2009</span>,</span></span>
<span class="r-in"><span>                  max_year <span class="op">=</span> <span class="fl">2018</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now run the model (fast but not good, just for illustration)</span></span></span>
<span class="r-in"><span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="run_model.html">run_model</a></span><span class="op">(</span><span class="va">d</span>, model <span class="op">=</span> <span class="st">"first_diff"</span>,</span></span>
<span class="r-in"><span>               iter_sampling <span class="op">=</span> <span class="fl">20</span>, iter_warmup <span class="op">=</span> <span class="fl">20</span>, chains <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Running MCMC with 2 chains, at most 4 in parallel...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1 WARNING: There aren't enough warmup iterations to fit the </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1          three stages of adaptation as currently configured. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1          Reducing each adaptation stage to 15%/75%/10% of </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1          the given number of warmup iterations: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1            init_buffer = 3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1            adapt_window = 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1            term_buffer = 2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1 Iteration:  1 / 40 [  2%]  (Warmup) </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 Exception: neg_binomial_2_log_lpmf: Precision parameter is 0, but must be positive finite! (in '/tmp/RtmpPjX9yD/model-44f03714111.stan', line 227, column 3 to column 40)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 Exception: neg_binomial_2_log_lpmf: Precision parameter is 0, but must be positive finite! (in '/tmp/RtmpPjX9yD/model-44f03714111.stan', line 227, column 3 to column 40)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2 WARNING: There aren't enough warmup iterations to fit the </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2          three stages of adaptation as currently configured. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2          Reducing each adaptation stage to 15%/75%/10% of </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2          the given number of warmup iterations: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2            init_buffer = 3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2            adapt_window = 15 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2            term_buffer = 2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2 Iteration:  1 / 40 [  2%]  (Warmup) </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Exception: neg_binomial_2_log_lpmf: Precision parameter is 0, but must be positive finite! (in '/tmp/RtmpPjX9yD/model-44f03714111.stan', line 227, column 3 to column 40)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Exception: neg_binomial_2_log_lpmf: Precision parameter is 0, but must be positive finite! (in '/tmp/RtmpPjX9yD/model-44f03714111.stan', line 227, column 3 to column 40)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Informational Message: The current Metropolis proposal is about to be rejected because of the following issue:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 Exception: neg_binomial_2_log_lpmf: Precision parameter is 0, but must be positive finite! (in '/tmp/RtmpPjX9yD/model-44f03714111.stan', line 227, column 3 to column 40)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 If this warning occurs sporadically, such as for highly constrained variable types like covariance matrices, then the sampler is fine,</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 but if this warning occurs often then your model may be either severely ill-conditioned or misspecified.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Chain 2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2 Iteration: 21 / 40 [ 52%]  (Sampling) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1 Iteration: 21 / 40 [ 52%]  (Sampling) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2 Iteration: 40 / 40 [100%]  (Sampling) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 2 finished in 31.2 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1 Iteration: 40 / 40 [100%]  (Sampling) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Chain 1 finished in 32.7 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Both chains finished successfully.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Mean chain execution time: 32.0 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Total execution time: 32.8 seconds.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Saving model output to /home/runner/work/bbsBayes/bbsBayes/docs/reference/BBS_STAN_first_diff_hier_2022-11-17_01.rds</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate the continental and stratum indices</span></span></span>
<span class="r-in"><span><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu">generate_indices</span><span class="op">(</span>model_output <span class="op">=</span> <span class="va">m</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region stratum</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region continent</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate only country indices</span></span></span>
<span class="r-in"><span><span class="va">i_nat</span> <span class="op">&lt;-</span> <span class="fu">generate_indices</span><span class="op">(</span>model_output <span class="op">=</span> <span class="va">m</span>, regions <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Processing region country</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Brandon P.M. Edwards, Adam C. Smith, Steffi LaZerte.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

